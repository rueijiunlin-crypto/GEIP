<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>特色單元影片</title>
  <link rel="icon" href="image/favicon.png" type="image/png" />
  <script src="js/title_prefix.js"></script>
  <link rel="stylesheet" href="geip_website_style.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="js/includes.js" defer></script>
</head>
<body>

  <!-- 導覽列 -->
  <div data-include="partials/navbar.html"></div>

  <!-- 主內容容器 -->
  <div class="container my-4">
    <!-- 特色影片 -->
    <section id="featured-video-section">
      <h2 class="mb-3">綠色工程學程介紹</h2>
      <div class="ratio ratio-16x9 video-hero rounded overflow-hidden shadow-sm">
        <iframe
          src="https://www.youtube.com/embed/VfabNSQpZDQ"
          title="特色影片"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          allowfullscreen>
        </iframe>
      </div>
    </section>

    <!-- 延伸觀看 -->
    <section class="my-5">
      <h3 class="mb-3">延伸觀看</h3>
      <div class="row g-3" id="related-videos-container"></div>
    </section>
  </div>

  <!-- 動態載入延伸影片資料 -->
  <script>
    (async function () {
      try {
        const res = await fetch('assets/videos/videos.json');
        if (!res.ok) throw new Error('HTTP ' + res.status);
        const data = await res.json();

        const box = document.getElementById('related-videos-container');
        box.innerHTML = (data.relatedVideos || []).map(v => `
          <div class="col-12 col-md-6 col-lg-4">
            <a class="text-decoration-none" href="${v.link}" target="_blank" rel="noopener noreferrer">
              <div class="card h-100">
                ${v.thumbnail ? `<img src="${v.thumbnail}" class="card-img-top" alt="${v.title}">` : ''}
                <div class="card-body">
                  <h5 class="card-title">${v.title}</h5>
                  ${v.description ? `<p class="card-text text-muted mb-0">${v.description}</p>` : ''}
                </div>
              </div>
            </a>
          </div>
        `).join('');
      } catch (err) {
        console.error('載入 videos.json 失敗：', err);
        const box = document.getElementById('featured-video-section');
        if (box) box.innerHTML =
          '<div class="alert alert-danger">無法載入影片資料，請稍後再試。</div>';
      }
    })();
  </script>

  <!-- 頁腳 -->
  <div data-include="partials/footer.html"></div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
