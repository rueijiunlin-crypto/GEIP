<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>特色單元影片</title>
    <link href="image/title1.png" rel="icon" type="image/png" />
    <script src="js/title_prefix.js"></script>
    <link href="geip_website_style.css" rel="stylesheet" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script defer src="js/includes.js"></script>
  </head>
  <body>
    <!-- 導覽列 -->
    <div data-include="partials/navbar.html"></div>

    <!-- 主內容容器 -->
    <div class="container my-4">
      <!-- 特色影片 -->
      <section id="featured-video-section">
        <h2 class="mb-3">課程相關介紹影片</h2>
        <h4>綠色工程技術經濟分析</h4>
        <div class="ratio ratio-16x9 video-hero rounded overflow-hidden shadow-sm">
          <iframe
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen
            frameborder="0"
            src="https://www.youtube.com/embed/fpZby6u3i24?list=PLwE9aC2NIkXklKW-927gHN-1PeDpinpp-"
            title="綠色工程技術經濟分析"
          ></iframe>
        </div>
        <div class="mt-2">
          <p class="text-muted mb-1">
            由綠色工程跨領域微學程-國立臺灣大學產學合作培育計畫製作
          </p>
          <p class="mb-0">
            <strong>主講人：</strong>台灣大學土木工程系 謝依芸副教授
          </p>
        </div>
      </section>

      <!-- 延伸觀看 -->
      <section class="my-5">
        <h3 class="mb-3">延伸觀看</h3>
        <div class="row g-3" id="related-videos-container"></div>
        <script>
          (async function () {
            try {
              const res = await fetch("assets/videos/videos.json");
              if (!res.ok) throw new Error("HTTP " + res.status);
              const data = await res.json();

              const box = document.getElementById("related-videos-container");
              box.innerHTML = (data.relatedVideos || [])
                .map(
                  (v) => `
                <div class="col-12 col-md-6 col-lg-4">
                  <a class="text-decoration-none" href="${v.link}" target="_blank" rel="noopener noreferrer">
                    <div class="card h-100">
                      ${
                        v.thumbnail
                          ? `<img src="${v.thumbnail}" class="card-img-top" alt="${v.title}">`
                          : ""
                      }
                      <div class="card-body">
                        <h5 class="card-title">${v.title}</h5>
                        ${
                          v.description
                            ? `<p class="card-text text-muted mb-0">${v.description}</p>`
                            : ""
                        }
                      </div>
                    </div>
                  </a>
                </div>
              `
                )
                .join("");
            } catch (err) {
              console.error("載入 videos.json 失敗：", err);
              const box = document.getElementById("featured-video-section");
              if (box)
                box.innerHTML =
                  '<div class="alert alert-danger">無法載入影片資料，請稍後再試。</div>';
            }
          })();
        </script>
      </section>
    </div>

    <!-- 頁腳 -->
    <div data-include="partials/footer.html"></div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
